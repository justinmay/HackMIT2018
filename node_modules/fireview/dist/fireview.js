!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"),require("firebase"),require("firebase/firestore"));else if("function"==typeof define&&define.amd)define(["react","firebase","firebase/firestore"],e);else{var n="object"==typeof exports?e(require("react"),require("firebase"),require("firebase/firestore")):e(t.react,t.firebase,t["firebase/firestore"]);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(t,e,n){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(e,n){e.exports=t},function(t,e,n){t.exports={operon:n(2),adopts:n(6)}},function(t,e){var n=Symbol.toPrimitive;t.exports=function(t){function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t[e].apply(t,r)}var r=Symbol(t);return e[n]=function(){return r},e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return h});var i=n(0),a=n.n(i),s=n(9),c=n.n(s),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),p(e,[{key:"getChildContext",value:function(){return{auth:this.props.auth}}},{key:"render",value:function(){return this.props.children}}]),e}(a.a.Component);e.b=f;var h={auth:c.a.object};f.childContextTypes=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);n.d(e,"Map",function(){return r.a});var o=n(3);n.d(e,"AuthProvider",function(){return o.b});var u=n(14);n.d(e,"withAuth",function(){return u.a})},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),a=n.n(i),s=n(1),c=(n.n(s),n(7)),p=(n.n(c),n(8)),f=(n.n(p),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=Object(s.operon)("map(Snapshot<I>, I->O) -> Selection<O>"),y=Object(s.operon)("map(Snapshot<I>, I->O) -> Selection<O>"),b=Object(s.operon)("Snapshot is empty?"),d=Object(s.operon)("key(Snapshot<T>) -> String"),v=Object(s.operon)("value(Snapshot<T>) -> T"),m=Object(s.operon)("listen(ref: Selection<I>, onSnapshot: Snapshot<I> -> ()) -> unsubscribe()"),O=c.firestore,_=c.database;O.Query[s.adopts](m)(function(t,e){return t.onSnapshot(e)}),O.DocumentReference[s.adopts](m)(function(t,e){return t.onSnapshot(e)}),O.QuerySnapshot[s.adopts](l)(function(t,e){return t.docs.map(e)}),O.QuerySnapshot[s.adopts](b)(function(t){return t.empty}),O.QuerySnapshot[s.adopts](v)(function(t){return t.data()}),O.QuerySnapshot.prototype[y]=O.QuerySnapshot.prototype[l],O.DocumentSnapshot[s.adopts](l)(function(t,e){return e(t)}),O.DocumentSnapshot[s.adopts](b)(function(t){return!t.exists}),O.DocumentSnapshot[s.adopts](d)(function(t){return t.id}),O.DocumentSnapshot[s.adopts](v)(function(t){return t.data()}),O.DocumentSnapshot.prototype[y]=O.DocumentSnapshot.prototype[l],_.Query[s.adopts](m)(function(t,e){var n=w.wrap(e);return t.on("value",n),function(){return t.off("value",n)}});var w=function(){function t(e){u(this,t),this.snapshot=e}return h(t,null,[{key:"wrap",value:function(e){return function(n){return e(new t(n))}}}]),h(t,[{key:b,value:function(){return!this.snapshot.exists()}},{key:l,value:function(t){return t(this)}},{key:d,value:function(){return this.snapshot.key}},{key:y,value:function(e){var n=this.snapshot,r=new Array(n.numChildren()),o=0;return n.forEach(function(n){r[o++]=e(new t(n))}),r}},{key:v,value:function(){return this.snapshot.val()}},{key:"ref",get:function(){return this.snapshot.ref}}]),t}(),j=Object(s.operon)("withProps(Component|ReactElement, props) -> ReactElement (with props)");Object[s.adopts](j)(function(t,e){return a.a.isValidElement(t)?a.a.cloneElement(t,e):null}),Function[s.adopts](j)(function(t,e){return a.a.createElement(t,e)});var S=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},j,function(){return null}),g=function(t){return null===t||void 0===t?S:t},x=function(t){function e(){var t,n,o,i;u(this,e);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),o.state={snapshot:null},i=n,r(o,i)}return o(e,t),h(e,[{key:"componentDidMount",value:function(){this.listen(this.props),this.listenAuth(this.props)}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.from,r=e.auth;t.from!==n&&this.listen(t),t.auth!==r&&this.listenAuth(t)}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe(),this.unsubscribeAuth&&this.unsubscribeAuth()}},{key:"listen",value:function(t){var e=this,n=t.from;this.unsubscribe&&this.unsubscribe(),n&&(this.unsubscribe=n[m](function(t){return e.setState({snapshot:t})}))}},{key:"listenAuth",value:function(t){var e=this,n=t.auth;this.unsubscribeAuth&&this.unsubscribeAuth(),n&&(this.unsubscribeAuth=n.onAuthStateChanged(function(t){return e.setState({user:t})}))}},{key:"render",value:function(){var t=this.props,e=t.from,n=t.each,r=t.children,o=t.auth,u=t.Render,i=t.Loading,a=t.Empty,s=this.state,c=s.snapshot,p=s.user,h=n?y:l;return e?c?c[b]()?g(a)[j]({_snap:c,_auth:o,_user:p,children:r}):u?c[h](function(t){return u[j](f({key:t[d](),_user:p,_auth:o,_ref:t.ref,_snap:t},t[v](),{children:r}))}):null:g(i)[j]({_ref:e,_auth:o,_user:p,children:r}):g(u)[j]({_user:p,_auth:o,children:r})}}]),e}(a.a.Component);e.a=x},function(t,e,n){var r=t.exports=n(2)("adopts"),o=Symbol.toPrimitive;Function.prototype[r]=function(t){var e=this;if(!this.prototype)throw new Error(this,"has no prototype");if(!(o in t)||"function"!=typeof t[o])throw new Error(t,"is not an operator");var n=t[o]();return function(t){e.prototype[n]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(void 0,[this].concat(n))}}}},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){"function"==typeof Symbol&&Symbol.iterator;t.exports=n(10)()},function(t,e,n){"use strict";var r=n(11),o=n(12),u=n(13);t.exports=function(){function t(t,e,n,r,i,a){a!==u&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";function r(t,e,n,r,u,i,a,s){if(o(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,r,u,i,a,s],f=0;c=new Error(e.replace(/%s/g,function(){return p[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(t){};t.exports=r},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n(0),a=n.n(i),s=n(1),c=(n.n(s),n(3)),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=Object(s.operon)("withAuth HOC");e.a=h,Function[s.adopts](h)(function(t){var e=function(e){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,e),f(n,[{key:"componentDidMount",value:function(){var t=this;this.unsubscribe=this.auth.onAuthStateChanged(function(e){return t.setState({user:e})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this.auth,n=this.user,r=this.ready,o={auth:e,user:n,ready:r};return a.a.createElement(t,p({withAuth:o,_auth:e,_user:n,_authReady:r},this.props))}},{key:"auth",get:function(){return this.context.auth}},{key:"user",get:function(){return this.state&&this.state.user}},{key:"ready",get:function(){return!!this.state}}]),n}(a.a.Component);return e.contextTypes=c.a,e.displayName="WithAuth("+(t.displayName||t.name)+")",e}),Object[s.adopts](h)(h(function(t){var e=t.children,n=t.withAuth;return l(e,n)}));var l=function t(e,n){return a.a.Children.map(e,function(e){return a.a.cloneElement(e,p({},n,{children:t(e.children,n)}))})}}])});