!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"),require("firebase"),require("firebase/firestore"));else if("function"==typeof define&&define.amd)define(["react","firebase","firebase/firestore"],e);else{var n="object"==typeof exports?e(require("react"),require("firebase"),require("firebase/firestore")):e(t.react,t.firebase,t["firebase/firestore"]);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(t,e,n){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){var n=Symbol.toPrimitive;t.exports=function(t){function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t[e].apply(t,r)}var r=Symbol(t);return e[n]=function(){return r},e}},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Map",function(){return w});var i=n(2),a=n.n(i),s=n(3),p=(n.n(s),n(5)),c=(n.n(p),n(6)),f=(n.n(c),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=Object(s.operon)("map(Snapshot<I>, I->O) -> Selection<O>"),y=Object(s.operon)("map(Snapshot<I>, I->O) -> Selection<O>"),b=Object(s.operon)("Snapshot is empty?"),v=Object(s.operon)("key(Snapshot<T>) -> String"),d=Object(s.operon)("value(Snapshot<T>) -> T"),m=Object(s.operon)("listen(ref: Selection<I>, onSnapshot: Snapshot<I> -> ()) -> unsubscribe()"),S=p.firestore,O=p.database;S.Query[s.adopts](m)(function(t,e){return t.onSnapshot(e)}),S.QuerySnapshot[s.adopts](h)(function(t,e){return t.docs.map(e)}),S.QuerySnapshot[s.adopts](b)(function(t){return t.empty}),S.QuerySnapshot[s.adopts](d)(function(t){return t.data()}),S.QuerySnapshot.prototype[y]=S.QuerySnapshot.prototype[h],S.DocumentSnapshot[s.adopts](h)(function(t,e){return e(t)}),S.DocumentSnapshot[s.adopts](b)(function(t){return!t.exists}),S.DocumentSnapshot[s.adopts](v)(function(t){return t.id}),S.DocumentSnapshot[s.adopts](d)(function(t){return t.data()}),S.DocumentSnapshot.prototype[y]=S.DocumentSnapshot.prototype[h],O.Query[s.adopts](m)(function(t,e){var n=j.wrap(e);return t.on("value",n),function(){return t.off("value",n)}});var j=function(){function t(e){u(this,t),this.snapshot=e}return l(t,null,[{key:"wrap",value:function(e){return function(n){return e(new t(n))}}}]),l(t,[{key:b,value:function(){return!this.snapshot.exists()}},{key:h,value:function(t){return t(this)}},{key:v,value:function(){return this.snapshot.key}},{key:y,value:function(e){var n=this.snapshot,r=new Array(n.numChildren()),o=0;return n.forEach(function(n){r[o++]=e(new t(n))}),r}},{key:d,value:function(){return this.snapshot.val()}},{key:"ref",get:function(){return this.snapshot.ref}}]),t}(),w=function(t){function e(){var t,n,o,i;u(this,e);for(var a=arguments.length,s=Array(a),p=0;p<a;p++)s[p]=arguments[p];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),o.state={snapshot:null},i=n,r(o,i)}return o(e,t),l(e,[{key:"componentDidMount",value:function(){this.listen(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.listen(t)}},{key:"listen",value:function(t){var e=this;t.from;this.unsubscribe&&this.unsubscribe(),this.props.from[m](function(t){return e.setState({snapshot:t})})}},{key:"render",value:function(){var t=this.props,e=t.from,n=t.each,r=t.Render,o=t.Loading,u=t.Empty,i=t.children,s=this.state.snapshot,p=n?y:h;return s?s[b]()?u?a.a.createElement(u,{snapshot:s},i):null:s[p](function(t){return a.a.createElement(r,f({key:t[v](),_ref:t.ref,_snap:t},t[d]()),i)}):o?a.a.createElement(o,{from:e}):null}}]),e}(a.a.Component)},function(e,n){e.exports=t},function(t,e,n){t.exports={operon:n(0),adopts:n(4)}},function(t,e,n){var r=t.exports=n(0)("adopts"),o=Symbol.toPrimitive;Function.prototype[r]=function(t){var e=this;if(!this.prototype)throw new Error(this,"has no prototype");if(!(o in t)||"function"!=typeof t[o])throw new Error(t,"is not an operator");var n=t[o]();return function(t){e.prototype[n]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(void 0,[this].concat(n))}}}},function(t,n){t.exports=e},function(t,e){t.exports=n}])});